{"version":3,"file":"commonHelpers.js","sources":["../src/js/Loader.js","../src/js/serviceBooks.js","../src/js/best-sellers-books.js","../src/js/categories.js","../src/images/apple-books.png","../src/js/modal.js","../src/js/pagination.js","../src/js/scroll-up.js"],"sourcesContent":["\nexport function showLoader() {\n  const loader = document.querySelectorAll('#loader');\n  if (loader) {\n  loader.forEach(node => {\n    // console.log(node);\n    node.style.display = 'flex';\n  });\n} else {\n  // console.error('Loader element not found.');\n}\n\n}\n\nexport function hideLoader() {\n  const loader = document.querySelectorAll('#loader');\n  if (loader) {\n  loader.forEach(node => {\n    // console.log(node);\n    node.style.display = 'none';\n  });\n} else {\n  // console.error('Loaders element not found.');\n}\n\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport { showLoader, hideLoader } from './Loader.js';\n\nasync function getAllCategories() {\n  try {\n    showLoader();\n    const categories = await axios('https://books-backend.p.goit.global/books/category-list');\n    hideLoader();\n    return categories.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Categories not found',\n      position: \"topRight\",\n    });\n  }\n}\n\nasync function getBooksByCategory(category) {\n  try {\n    showLoader();\n    const response = await axios(`https://books-backend.p.goit.global/books/category?category=${category}`);\n    hideLoader();\n    return response.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Failed server request',\n      position: \"topRight\",\n    });\n  }\n}\n\n\nasync function getBookById(bookId) {\n  try {\n    showLoader();\n    const bookInfo = await axios(`https://books-backend.p.goit.global/books/${bookId}`);\n    hideLoader();\n    return bookInfo.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Book not found',\n      position: \"topRight\",\n    });\n  }\n}\n\nasync function getAllBooks() {\n  try {\n    showLoader();\n    const response = await axios('https://books-backend.p.goit.global/books/top-books');\n    hideLoader();\n    return response.data; \n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Failed server request',\n      position: \"topRight\",\n    });\n  }\n}\n\nexport { getAllBooks, getAllCategories, getBookById, getBooksByCategory };","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showLoader, hideLoader } from './Loader.js';\n\nimport { getAllBooks, getBooksByCategory } from './serviceBooks';\n\nconst mainWrapper = document.querySelector(\".main-wrapper\");\nmainWrapper.addEventListener('click', showMoreByCategory);\nconst scrollBtn = document.querySelector('.scroll-to-top-btn');\nscrollBtn.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', trackScroll);\n\n// LOADER //\n// function showLoader() {\n//   mainWrapper.insertAdjacentHTML('afterbegin', '<div id=\"loader\"></div>');\n//   const loader = document.querySelector('#loader');\n//   loader.classList.add('loader');\n// }\n\n// function hideLoader() {\n//   const loader = document.querySelector('#loader');\n//   loader.classList.remove('loader');\n// }\n\n// SCROLL //\nfunction scrollToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n}\n\nfunction trackScroll() {\n  const offset = window.pageYOffset;\n  const coordinates = document.documentElement.clientHeight;\n  if (offset > coordinates) {\n    scrollBtn.classList.add('scroll-to-top-btn-show');\n  } else {\n    scrollBtn.classList.remove('scroll-to-top-btn-show');\n  }\n}\n\n// RENDER BOOKS //\nasync function renderAllBooks() {\n  cleanMainWrapper();\n  showLoader();\n  try {\n    const allBooks = await getAllBooks();\n    renderBooksBlocks(allBooks);\n  } catch (error) {\n      iziToast.error({\n        title: '',\n        message: 'Whoops! Somethink went wrong',\n        position: \"topRight\",\n        });\n  } finally {\n    hideLoader();\n  }\n}\n\nrenderAllBooks()\n\nasync function showMoreByCategory(event) {\n  if (!event.target.classList.contains('see-more-btn')) {\n    return;\n  }\n\n  cleanMainWrapper();\n  showLoader();\n  \n  const category = event.target.dataset.category;\n\n  try {\n    const booksByCategory = await getBooksByCategory(category);\n    renderBooksList(booksByCategory);\n  } catch (error) {\n      iziToast.error({\n        title: '',\n        message: 'Sorry, we couldn\\'t find any books in this category',\n        position: \"topRight\",\n        });\n  } finally {\n    hideLoader();\n  }\n}\n\n// MARKUP //\nfunction bookCardTemplate(book, liClass) {\n    return `<li class=\"${liClass} book-link\" data-id=\"${book._id}\">\n                 <div class=\"overlay-box\">\n                   <img\n                     class=\"book-img\"\n                     src=\"${book.book_image}\"\n                     alt=\"${book.title}\"\n                     width=\"180\"\n                     height=\"256\"\n                   />\n                   <p class=\"overlay-text\">Quick View</p>\n                 </div>\n                 <div class=\"book-info\">\n                   <h3 class=\"book-title\">${book.title}</h3>\n                   <p class=\"book-author\">${book.author}</p>\n                 </div>\n               </li>`;\n}\n\nfunction booksBlockTemplate(collection) {\n    const bookCards = collection.books.map(book => bookCardTemplate(book, 'best-sellers-list-item')).join('');\n    return `<div class=\"best-sellers-container\">\n             <h2 class=\"category-title\">${collection.list_name}</h2>\n             <ul class=\"best-sellers-list\">${bookCards}</ul>\n             <div class=\"see-more-btn-wrapper\">\n               <button class=\"see-more-btn\" type=\"button\" data-category=\"${collection.list_name}\">See more</button>\n             </div>\n           </div>`\n}\n\nfunction booksList(books) {\n    const bookCards = books.map(book => bookCardTemplate(book, 'category-list-item')).join('');\n    return `<ul class=\"category-list\">${bookCards}</ul>`\n}\n\nfunction addBooksBlocks(collection) {\n  mainWrapper.insertAdjacentHTML('beforeend', booksBlockTemplate(collection))\n}\n\nexport function addBooksList(books) {\n  mainWrapper.insertAdjacentHTML('beforeend', booksList(books));\n}\n\nfunction renderMainBooksHeader() {\n    mainWrapper.insertAdjacentHTML('afterbegin',\n        `<h1 class=\"main-title\">\n            Best Sellers <span class=\"accent-text\">Books</span>\n        </h1>`\n  );\n}\n\nexport function renderCategoryName(booksCollection) {\n  const words = booksCollection[0].list_name.split(' ');\n  const lastWord = words.pop();\n  const categoryName = `${words.join(' ')} <span class=\"accent-text\">${lastWord}</span>`;\n  mainWrapper.insertAdjacentHTML('afterbegin', `<h1 class=\"main-title\">${categoryName}</h1>`);\n}\n\nexport function cleanMainWrapper() {\n  mainWrapper.innerHTML = '';\n}\n\nfunction renderBooksBlocks(collection) {\n  collection.forEach(addBooksBlocks);\n  renderMainBooksHeader();\n}\n\nexport  function renderBooksList(books) {\n    addBooksList(books);\n    renderCategoryName(books);  \n}\n\nexport { renderAllBooks, showMoreByCategory,  };\n","import axios from 'axios';\nimport {getBooksByCategory,} from './serviceBooks';\nimport { showLoader, hideLoader } from './Loader';\nimport {cleanMainWrapper, renderBooksList, renderAllBooks} from './best-sellers-books.js';\nconst category_list = document.querySelector('.nav-categories-list');\n\nasync function getCategoryList() {\n  const { data } = await axios.get(\n    'https://books-backend.p.goit.global/books/category-list'\n  );\n  return data;\n}\n\nconst renderCategories = async () => {\n  try {\n    showLoader();\n    const category = await getCategoryList();\n    category_list.insertAdjacentHTML('beforeend', markupCategoriesList(category)); \n    const listCategory = document.querySelectorAll('.nav-category-item');\n    listCategory.forEach(itemCategory => {\n      itemCategory.addEventListener('click', event => {\n        const ActiveCategory = document.querySelector(\n          '.nav-category-item.active'\n        );\n        if (ActiveCategory) {\n          ActiveCategory.classList.remove('active');\n        }\n        event.target.classList.add('active');\n      });\n    });\n    hideLoader();\n  } catch (error) {\n    // console.log('Oops! Something went wrong');\n    hideLoader();\n  }\n};\n\nrenderCategories();\ncategory_list.addEventListener('click', checkCategory);\n\nfunction checkCategory(e) {\n  if (e.target.dataset.id) {\n    if(e.target.dataset.id!=='all-categories'){\n    showMoreByCategory(e.target.dataset.id);}\n    else{\n      renderAllBooks(e.target.dataset.id);\n    }\n  }\n}\n\nasync function showMoreByCategory(event) {\n  cleanMainWrapper();\n  showLoader();\n  \n  const category = event;\n\n  try {\n    const booksByCategory = await getBooksByCategory(category);\n    renderBooksList(booksByCategory);\n  } catch (error) {\n      iziToast.error({\n        title: '',\n        message: 'Sorry, we couldn\\'t find any books in this category',\n        position: \"topRight\",\n        });\n  } finally {\n    hideLoader();\n  }\n}\nfunction markupCategoriesList(categories) {\n  return `${categories\n          .map(\n            category => `<li class=\"nav-category-item\" data-id=\"${category.list_name}\">\n        ${category.list_name}\n        </li>`\n          )\n          .join('')}`;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==\"","import { getBookById } from './serviceBooks';\nimport amazon from '../images/amazon.png';\nimport applebooks from '../images/apple-books.png';\nimport { showLoader, hideLoader } from './Loader.js';\n\nconst bookWrapp = document.querySelector('.main-wrapper');\nconst modal = document.getElementById('bookModal');\nconst modalTitle = document.getElementById('bookModalTitle');\nconst modalText = document.getElementById('bookModalText');\nconst addToShoppingListBtn = document.getElementById('addToShoppingList');\nconst modalCloseBtn = document.querySelector('.modal-close');\nconst addTextModal = document.getElementById('modalADText');\n\nlet shoppingList = [];\nlet shoppingCard = [];\nlet firstCard = {};\nconst descEmpty = 'The Florida governor gives his account of his achievements and shares his opinions about the political left. Read by John Pruden and the author. 8 hours, 59 minutes unabridged.';\n\nfunction openModal(bookId) {\n    \n    // console.log('show loader');\n    // showLoader();\n    \n    getBookById(bookId).then(book => {\n    modalTitle.innerText = book.title;\n    if(!book.description){\n        book.description=descEmpty;\n\n        // console.log('hide loader');\n        // hideLoader();\n    }\n    // hideLoader();\n    firstCard = {\n        book_image: book.book_image,\n        title: book.title,\n        author: book.author,\n        description: book.description,\n        amazonLinks: book.buy_links[0].url,\n        appleLinks: book.buy_links[1].url,\n    };\n    modalTitle.dataset.bookId = bookId; // dataset для збереження bookId\n    modalText.innerHTML = `<img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-modal-img\"/>\n            <div class=\"book-modal-details\">\n                <h2 class=\"book-modal-title\">${book.title}</h2>\n                <h3 class=\"book-modal-author\">${book.author}</h3>\n                <p class=\"book-modal-desc\">${book.description}</p>\n                <ul class=\"icon-book-modal-list\">\n                    <li>\n                        <a href=\"${book.buy_links[0].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-amazon\" srcset=\"${amazon} 1x, src=\"${amazon}\" alt=\"Amazon\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                    <li>\n                        <a href=\"${book.buy_links[1].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-ibooks\" srcset=\"${applebooks} 1x, src=\"${applebooks}\" alt=\"Apple books\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n    `;\n    \n    // Перевірка, книга в списку покупок\n    if (shoppingList.includes(bookId)) {\n        addToShoppingListBtn.innerText = 'Remove from the shopping list';\n        addTextModal.style.display = 'block';\n    } else {\n        addToShoppingListBtn.innerText = 'Add to shopping list';\n        addTextModal.style.display = 'none';\n    }\n\n    modal.classList.add('show');\n    document.body.style.overflow = 'hidden'; \n    });\n    \n}\n\nfunction closeModal() {\n    modal.classList.remove('show');\n    document.body.style.overflow = ''; \n}\n\nfunction toggleShoppingList(bookId) {\n    if (!bookId) {\n    console.error('Invalid bookId:', bookId);\n    return;\n    }\n    const index = shoppingList.indexOf(bookId);\n    if (index === -1) {\n    shoppingList.push(bookId);\n    shoppingCard.push(firstCard);\n    } else {\n    shoppingList.splice(index, 1);\n    shoppingCard.splice(index,1);\n    }\n        // Запись в Локалку\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n    localStorage.setItem('shoppingCard',JSON.stringify(shoppingCard));\n\n\n    if (index === -1) {\n    addToShoppingListBtn.innerText = 'Remove from the shopping list';\n    addTextModal.style.display = 'block';\n    } else {\n    addToShoppingListBtn.innerText = 'Add to shopping list';\n    addTextModal.style.display = 'none';\n    }\n}\n\naddToShoppingListBtn.addEventListener('click', () => {\n  const currentBookId = modalTitle.dataset.bookId; // Отримати bookId з dataset\n    toggleShoppingList(currentBookId);\n});\n\nmodal.addEventListener('click', event => {\n    if (event.target === modal) {\n    closeModal();\n    }\n});\n\ndocument.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n    closeModal();\n    }\n});\n// Відкриття модалки\nbookWrapp.addEventListener('click', event => {\n    const bookLink = event.target.closest('.book-link');\n    if (bookLink) {\n    event.preventDefault();\n    const bookId = bookLink.dataset.id;\n    \n    openModal(bookId);\n    }\n});\n\n// Локалка\nconst savedShoppingList = localStorage.getItem('shoppingList');\nconst savedShoppingCard = localStorage.getItem('shoppingCard'); \nif (savedShoppingList) {\n    shoppingList = JSON.parse(savedShoppingList);\n}\nif (savedShoppingCard) {\n    shoppingCard = JSON.parse(savedShoppingCard);\n}\n\nmodalCloseBtn.addEventListener('click', closeModal);\n","import Pagination from 'tui-pagination'; /* ES6 */\nimport 'tui-pagination/dist/tui-pagination.css'\n\nlet resultArray =   [];\n\nlet paginationOptions   =   {\n    totalItems: 0,\n    itemsPerPage: 0,\n    visiblePages: 0,\n    template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-page-btn-moveButton\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n          '</a>',\n        disabledMoveButton:\n          '<span class=\"tui-page-btn tui-page-btn-disabledMoveButton tui-is-disabled\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n          '</span>',\n        moreButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-page-btn-moreButton tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n          '</a>'\n      }\n};\n\nconst LOCAL_STORAGE_NAME = 'ShoppingListLocalStorage';\nconst PAGINATION_DEV_LIST = document.getElementById('pagination-list');\n\n\n\n\n\n\n\n//Функції\n\nfunction setPaginationOptions(itemsPerPage,visiblePages){\n    \n    let arrayShoppingList   =   window.localStorage.getItem(LOCAL_STORAGE_NAME);\n\n    if (arrayShoppingList!==null){\n        let jsonArrayShoppingList   =   JSON.parse(arrayShoppingList);\n\n        paginationOptions.totalItems    =   jsonArrayShoppingList.length;\n        paginationOptions.itemsPerPage  =   itemsPerPage;\n        paginationOptions.visiblePages  =   visiblePages;\n    }\n}\n\n\n\nfunction getShoppingList(){\n    \n    let arrayShoppingList   =   window.localStorage.getItem(LOCAL_STORAGE_NAME);\n    let indexFrom = 0;\n    \n    if (arrayShoppingList==null || JSON.parse(arrayShoppingList).length == 0) {\n        PAGINATION_DEV_LIST.style.display = 'none';  \n    } else {\n        \n    arrayShoppingList     =   JSON.parse(arrayShoppingList);\n    indexFrom   =   paginationOptions.itemsPerPage*pagination._currentPage-paginationOptions.itemsPerPage;\n    resultArray   =   arrayShoppingList.slice(indexFrom,indexFrom+paginationOptions.itemsPerPage);\n    PAGINATION_DEV_LIST.style.display = 'block';  \n    }\n\nreturn resultArray;\n\n}\n\n\n//Єкспортування функції отримимання данних через пагінацію\nexport {getShoppingList, setPaginationOptions};\n\n\n// // --------------------------------------------------TEST data----------------------------------------------------\n\n// function set_Test_ShoppingList() {\n// let testArray = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22];\n// // let testArray = [];\n// localStorage.setItem(LOCAL_STORAGE_NAME, JSON.stringify(testArray));\n// }\n\n// set_Test_ShoppingList();\n\n\n\n\n// // --------------------------------------------------example use----------------------------------------------------\n// if (PAGINATION_DEV_LIST) {\n//   setPaginationOptions(3, 2);\n//   let pagination = new Pagination('pagination-list', paginationOptions);\n\n//   pagination.on('afterMove', function (eventData) {\n//       resultArray = getShoppingList();\n//       // console.log(resultArray);\n//   });\n\n//   resultArray = getShoppingList();\n// }","const goTopBtn = document.querySelector(\".back-top\");\n\nwindow.addEventListener(\"scroll\", trackScroll);\ngoTopBtn.addEventListener(\"click\", goTop);\n\nfunction trackScroll() {\n\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    goTopBtn.classList.add(\"back-top-show\");\n  } else {\n    goTopBtn.classList.remove(\"back-top-show\");\n  }\n}\n\nfunction goTop() {\n\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -25);\n    setTimeout(goTop, 0); \n  }\n}"],"names":["showLoader","loader","node","hideLoader","getBooksByCategory","category","response","axios","iziToast","getBookById","bookId","bookInfo","getAllBooks","mainWrapper","showMoreByCategory","scrollBtn","scrollToTop","trackScroll","offset","coordinates","renderAllBooks","cleanMainWrapper","allBooks","renderBooksBlocks","event","booksByCategory","renderBooksList","bookCardTemplate","book","liClass","booksBlockTemplate","collection","bookCards","booksList","books","addBooksBlocks","addBooksList","renderMainBooksHeader","renderCategoryName","booksCollection","words","lastWord","categoryName","category_list","getCategoryList","data","renderCategories","markupCategoriesList","itemCategory","ActiveCategory","checkCategory","e","categories","applebooks","bookWrapp","modal","modalTitle","modalText","addToShoppingListBtn","modalCloseBtn","addTextModal","shoppingList","shoppingCard","firstCard","descEmpty","openModal","amazon","closeModal","toggleShoppingList","index","currentBookId","bookLink","savedShoppingList","savedShoppingCard","goTopBtn","goTop","scrolled","coords"],"mappings":"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"}