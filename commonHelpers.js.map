{"version":3,"file":"commonHelpers.js","sources":["../src/js/header.js","../src/js/Loader.js","../src/js/serviceBooks.js","../src/js/categories.js","../src/js/modal.js","../src/js/mobMenu.js","../src/js/pagination.js","../src/js/best-sellers-books.js","../src/js/scroll-up.js"],"sourcesContent":["import icon from '../img/sprite.svg';\n\nconst burgerBtn = document.querySelector('.js-open-menu');\nconst closeBtn = document.querySelector('.js-close-menu');\nconst modal = document.querySelector('.js-modal');\n\nconst modalChannel = new BroadcastChannel('modal-channel');\n\n// burgerBtn.addEventListener('click', function () {\n//   modal.style.display = 'block';\n//   burgerBtn.classList.add('hidden');\n//   modalChannel.postMessage({ action: 'openModal' });\n\n//   if (closeBtn.classList.contains('visually-hidden')) {\n//     closeBtn.classList.remove('visually-hidden');\n//   }\n\n//   body.style.overflowY = 'hidden';\n// });\n\n// closeBtn.addEventListener('click', function () {\n//   modal.style.display = 'none';\n//   burgerBtn.classList.remove('hidden');\n\n//   body.style.overflowY = '';\n// });\n\n// modalChannel.addEventListener('message', function (event) {\n//   if (event.data.action === 'openModal') {\n//     modal.style.display = 'block';\n//     burgerBtn.classList.add('hidden');\n//   }\n// });\n\n// window.addEventListener('beforeunload', function () {\n//   modalChannel.close();\n// });\n\n//  Change theme\n\nconst inputTheme = document.querySelector('.div-theme');\nconst spanTheme = document.querySelector('.span-theme');\n\nconst body = document.querySelector('body');\nlet indexTheme = false;\n\ninputTheme.addEventListener('change', () => {\n  if (indexTheme) {\n    indexTheme = false;\n    localStorage.setItem('userTheme', 'light');\n  } else {\n    indexTheme = true;\n    localStorage.setItem('userTheme', 'dark');\n  }\n\n  currentTheme();\n});\n\nfunction currentTheme() {\n  try {\n    indexTheme = localStorage.getItem('userTheme') === 'dark' ? true : false;\n  } catch (error) {\n    indexTheme = false;\n  }\n\n  const logo = document.querySelector('.header-logo-icon');\n  const logo1 = document.querySelector('.header-logo-icon1');\n  if (indexTheme) {\n    body.classList.add('dark-theme');\n    spanTheme.style.left = '20px';\n    logo.style.width = '0px';\n    logo1.style.width = '109px';\n  } else {\n    body.classList.remove('dark-theme');\n    spanTheme.style.left = '2px';\n    logo1.style.width = '0px';\n    logo.style.width = '109px';\n  }\n}\n\ncurrentTheme();\n","export function showLoader() {\n  const loader = document.querySelector('#loader');\n  if (loader) {\n    // loader.classList.add('visible');\n    loader.style.display = 'flex';\n  } else {\n    console.error('Loader element not found.');\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('#loader');\n  if (loader) {\n    // loader.classList.remove('visible');\n    loader.style.display = 'none';\n  } else {\n    console.error('Loader element not found.');\n  }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\nimport { showLoader, hideLoader } from './Loader.js';\n\nasync function getAllCategories() {\n  try {\n    showLoader();\n    const categories = await axios('https://books-backend.p.goit.global/books/category-list');\n    hideLoader();\n    return categories.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Categories not found',\n      position: \"topRight\",\n    });\n  }\n}\n\nasync function getBooksByCategory(category) {\n  try {\n    showLoader();\n    const response = await axios(`https://books-backend.p.goit.global/books/category?category=${category}`);\n    hideLoader();\n    return response.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Failed server request',\n      position: \"topRight\",\n    });\n  }\n}\n\nasync function getBookById(bookId) {\n  try {\n    showLoader();\n    const bookInfo = await axios(`https://books-backend.p.goit.global/books/${bookId}`);\n    hideLoader();\n    return bookInfo.data;\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Book not found',\n      position: \"topRight\",\n    });\n  }\n}\n\nasync function getAllBooks() {\n  try {\n    showLoader();\n    const response = await axios('https://books-backend.p.goit.global/books/top-books');\n    hideLoader();\n    return response.data; \n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: '',\n      message: 'Failed server request',\n      position: \"topRight\",\n    });\n  }\n}\n\nexport { getAllBooks, getAllCategories, getBookById, getBooksByCategory };","import axios from 'axios';\nimport {getBooksByCategory} from './serviceBooks';\nconst category_list = document.querySelector('.nav-categories-list');\n\nasync function getCategoryList() {\n  const { data } = await axios.get(\n    'https://books-backend.p.goit.global/books/category-list'\n  );\n  return data;\n}\n\nconst renderCategories = async () => {\n  try {\n    const category = await getCategoryList();\n    category_list.innerHTML = await markupCategoriesList(category);\n    const listCategory = document.querySelectorAll('.nav-category-item');\n    listCategory.forEach(itemCategory => {\n      itemCategory.addEventListener('click', event => {\n        const ActiveCategory = document.querySelector(\n          '.nav-category-item.active'\n        );\n        if (ActiveCategory) {\n          ActiveCategory.classList.remove('active');\n        }\n        event.target.classList.add('active');\n      });\n    });\n  } catch (error) {\n    console.log('Oops! Something went wrong');\n  }\n};\n\nrenderCategories();\ncategory_list.addEventListener('click', checkCategory);\n\nfunction checkCategory(e) {\n  if (e.target.dataset.id) {\n    getBooksByCategory(e);\n  }\n}\n\nfunction markupCategoriesList(categories) {\n  return `<li class=\"nav-category-item active\" data-id=\"all-categories\">\n        All categories</li>\n        ${categories\n          .map(\n            category => `<li class=\"nav-category-item\" data-id=\"${category.list_name}\">\n        ${category.list_name}\n        </li>`\n          )\n          .join('')}`;\n}\n","import { getBookById } from './serviceBooks';\nimport amazon from '../images/amazon.png';\nimport applebooks from '../images/apple-books.png';\nimport { showLoader, hideLoader } from './Loader.js';\n\nconst bookWrapp = document.querySelector('.main-wrapper');\nconst modal = document.getElementById('bookModal');\nconst modalTitle = document.getElementById('bookModalTitle');\nconst modalText = document.getElementById('bookModalText');\nconst addToShoppingListBtn = document.getElementById('addToShoppingList');\nconst modalCloseBtn = document.querySelector('.modal-close');\nconst addTextModal = document.getElementById('modalADText');\n\nlet shoppingList = [];\nlet shoppingCard = [];\nlet firstCard = {};\nconst descEmpty = 'The Florida governor gives his account of his achievements and shares his opinions about the political left. Read by John Pruden and the author. 8 hours, 59 minutes unabridged.';\nfunction openModal(bookId) {\n    getBookById(bookId).then(book => {\n    modalTitle.innerText = book.title;\n    if(!book.description){\n        book.description=descEmpty;\n    }\n    firstCard = {\n        book_image: book.book_image,\n        title: book.title,\n        author: book.author,\n        description: book.description,\n        amazonLinks: book.buy_links[0].url,\n        appleLinks: book.buy_links[1].url,\n    };\n    modalTitle.dataset.bookId = bookId; // dataset для збереження bookId\n    modalText.innerHTML = `<img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"book-modal-img\"/>\n            <div class=\"book-modal-details\">\n                <h2 class=\"book-modal-title\">${book.title}</h2>\n                <h3 class=\"book-modal-author\">${book.author}</h3>\n                <p class=\"book-modal-desc\">${book.description}</p>\n                <ul class=\"icon-book-modal-list\">\n                    <li>\n                        <a href=\"${book.buy_links[0].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-amazon\" srcset=\"${amazon} 1x, src=\"${amazon}\" alt=\"Amazon\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                    <li>\n                        <a href=\"${book.buy_links[1].url}\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n                            <img class=\"icon-book-modal-ibooks\" srcset=\"${applebooks} 1x, src=\"${applebooks}\" alt=\"Apple books\" loading=\"lazy\"/>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n    `;\n    \n    // Перевірка, книга в списку покупок\n    if (shoppingList.includes(bookId)) {\n        addToShoppingListBtn.innerText = 'Remove from the shopping list';\n        addTextModal.style.display = 'block';\n    } else {\n        addToShoppingListBtn.innerText = 'Add to shopping list';\n        addTextModal.style.display = 'none';\n    }\n\n    modal.classList.add('show');\n    document.body.style.overflow = 'hidden'; \n    });\n}\n\nfunction closeModal() {\n    modal.classList.remove('show');\n    document.body.style.overflow = ''; \n}\n\nfunction toggleShoppingList(bookId) {\n    if (!bookId) {\n    console.error('Invalid bookId:', bookId);\n    return;\n    }\n    const index = shoppingList.indexOf(bookId);\n    if (index === -1) {\n    shoppingList.push(bookId);\n    shoppingCard.push(firstCard);\n    } else {\n    shoppingList.splice(index, 1);\n    shoppingCard.splice(index,1);\n    }\n        // Запись в Локалку\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n    localStorage.setItem('shoppingCard',JSON.stringify(shoppingCard));\n\n\n    if (index === -1) {\n    addToShoppingListBtn.innerText = 'Remove from the shopping list';\n    addTextModal.style.display = 'block';\n    } else {\n    addToShoppingListBtn.innerText = 'Add to shopping list';\n    addTextModal.style.display = 'none';\n    }\n}\n\naddToShoppingListBtn.addEventListener('click', () => {\n  const currentBookId = modalTitle.dataset.bookId; // Отримати bookId з dataset\n    toggleShoppingList(currentBookId);\n});\n\nmodal.addEventListener('click', event => {\n    if (event.target === modal) {\n    closeModal();\n    }\n});\n\ndocument.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n    closeModal();\n    }\n});\n// Відкриття модалки\nbookWrapp.addEventListener('click', event => {\n    const bookLink = event.target.closest('.book-link');\n    if (bookLink) {\n    event.preventDefault();\n    const bookId = bookLink.dataset.id;\n    \n    openModal(bookId);\n    }\n});\n\n// Локалка\nconst savedShoppingList = localStorage.getItem('shoppingList');\nconst savedShoppingCard = localStorage.getItem('shoppingCard'); \nif (savedShoppingList) {\n    shoppingList = JSON.parse(savedShoppingList);\n}\nif (savedShoppingCard) {\n    shoppingCard = JSON.parse(savedShoppingCard);\n}\n\nmodalCloseBtn.addEventListener('click', closeModal);\n","const backDropMenu = document.querySelector('.backdrop');\n\nconst burgerBtn = document.querySelector('.js-open-menu');\n\nburgerBtn.insertAdjacentHTML(\n  'afterbegin',\n  `<svg class=\"icon-close visually-hidden\" width=\"28\" height=\"28\">\n    <use href=\"./img/sprite.svg#icon-x-close\"></use>\n  </svg>`\n);\n\nconst closeIcon = document.querySelector('.icon-close');\nconst burgerIcon = document.querySelector('.header-burger-icon');\n\nfunction toggleMenuOpen() {\n  backDropMenu.classList.toggle('show__mob-menu');\n  closeIcon.classList.toggle('visually-hidden');\n  burgerIcon.classList.toggle('visually-hidden');\n}\n\nburgerBtn.addEventListener('click', toggleMenuOpen);\n","import Pagination from 'tui-pagination'; /* ES6 */\nimport 'tui-pagination/dist/tui-pagination.css'\n\nlet resultArray =   [];\n\nlet paginationOptions   =   {\n    totalItems: 0,\n    itemsPerPage: 0,\n    visiblePages: 0,\n    template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-page-btn-moveButton\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n          '</a>',\n        disabledMoveButton:\n          '<span class=\"tui-page-btn tui-page-btn-disabledMoveButton tui-is-disabled\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n          '</span>',\n        moreButton:\n          '<a href=\"#\" class=\"tui-page-btn tui-page-btn-moreButton tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n          '</a>'\n      }\n};\n\nconst LOCAL_STORAGE_NAME = 'ShoppingListLocalStorage';\nconst PAGINATION_DEV_LIST = document.getElementById('pagination-list');\n\n\n\n\n\n\n\n//Функції\n\nfunction setPaginationOptions(itemsPerPage,visiblePages){\n    \n    let arrayShoppingList   =   window.localStorage.getItem(LOCAL_STORAGE_NAME);\n\n    if (arrayShoppingList!==null){\n        let jsonArrayShoppingList   =   JSON.parse(arrayShoppingList);\n\n        paginationOptions.totalItems    =   jsonArrayShoppingList.length;\n        paginationOptions.itemsPerPage  =   itemsPerPage;\n        paginationOptions.visiblePages  =   visiblePages;\n    }\n}\n\n\n\nfunction getShoppingList(){\n    \n    let arrayShoppingList   =   window.localStorage.getItem(LOCAL_STORAGE_NAME);\n    let indexFrom = 0;\n    \n    if (arrayShoppingList==null || JSON.parse(arrayShoppingList).length == 0) {\n        PAGINATION_DEV_LIST.style.display = 'none';  \n    } else {\n        \n    arrayShoppingList     =   JSON.parse(arrayShoppingList);\n    indexFrom   =   paginationOptions.itemsPerPage*pagination._currentPage-paginationOptions.itemsPerPage;\n    resultArray   =   arrayShoppingList.slice(indexFrom,indexFrom+paginationOptions.itemsPerPage);\n    PAGINATION_DEV_LIST.style.display = 'block';  \n    }\n\nreturn resultArray;\n\n}\n\n\n//Єкспортування функції отримимання данних через пагінацію\nexport {getShoppingList, setPaginationOptions};\n\n\n// // --------------------------------------------------TEST data----------------------------------------------------\n\n// function set_Test_ShoppingList() {\n// let testArray = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22];\n// // let testArray = [];\n// localStorage.setItem(LOCAL_STORAGE_NAME, JSON.stringify(testArray));\n// }\n\n// set_Test_ShoppingList();\n\n\n\n\n// // --------------------------------------------------example use----------------------------------------------------\n// if (PAGINATION_DEV_LIST) {\n//   setPaginationOptions(3, 2);\n//   let pagination = new Pagination('pagination-list', paginationOptions);\n\n//   pagination.on('afterMove', function (eventData) {\n//       resultArray = getShoppingList();\n//       // console.log(resultArray);\n//   });\n\n//   resultArray = getShoppingList();\n// }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { showLoader, hideLoader } from './Loader.js';\n\nimport { getAllBooks, getBooksByCategory } from './serviceBooks';\n\nconst mainWrapper = document.querySelector(\".main-wrapper\");\nmainWrapper.addEventListener('click', showMoreByCategory);\nconst scrollBtn = document.querySelector('.scroll-to-top-btn');\nscrollBtn.addEventListener('click', scrollToTop);\nwindow.addEventListener('scroll', trackScroll);\n\n// LOADER //\n// function showLoader() {\n//   mainWrapper.insertAdjacentHTML('afterbegin', '<div id=\"loader\"></div>');\n//   const loader = document.querySelector('#loader');\n//   loader.classList.add('loader');\n// }\n\n// function hideLoader() {\n//   const loader = document.querySelector('#loader');\n//   loader.classList.remove('loader');\n// }\n\n// SCROLL //\nfunction scrollToTop() {\n  if (window.pageYOffset > 0) {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n}\n\nfunction trackScroll() {\n  const offset = window.pageYOffset;\n  const coordinates = document.documentElement.clientHeight;\n  if (offset > coordinates) {\n    scrollBtn.classList.add('scroll-to-top-btn-show');\n  } else {\n    scrollBtn.classList.remove('scroll-to-top-btn-show');\n  }\n}\n\n// RENDER BOOKS //\nasync function renderAllBooks() {\n  cleanMainWrapper();\n  showLoader();\n  try {\n    const allBooks = await getAllBooks();\n    renderBooksBlocks(allBooks);\n  } catch (error) {\n      iziToast.error({\n        title: '',\n        message: 'Whoops! Somethink went wrong',\n        position: \"topRight\",\n        });\n  } finally {\n    hideLoader();\n  }\n}\n\nrenderAllBooks()\n\nasync function showMoreByCategory(event) {\n  if (!event.target.classList.contains('see-more-btn')) {\n    return;\n  }\n\n  cleanMainWrapper();\n  showLoader();\n  const category = event.target.dataset.category;\n\n  try {\n    const booksByCategory = await getBooksByCategory(category);\n    renderBooksList(booksByCategory);\n  } catch (error) {\n      iziToast.error({\n        title: '',\n        message: 'Sorry, we couldn\\'t find any books in this category',\n        position: \"topRight\",\n        });\n  } finally {\n    hideLoader();\n  }\n}\n\n// MARKUP //\nfunction bookCardTemplate(book, liClass) {\n    return `<li class=\"${liClass} book-link\" data-id=\"${book._id}\">\n                 <div class=\"overlay-box\">\n                   <img\n                     class=\"book-img\"\n                     src=\"${book.book_image}\"\n                     alt=\"${book.title}\"\n                     width=\"180\"\n                     height=\"256\"\n                   />\n                   <p class=\"overlay-text\">Quick View</p>\n                 </div>\n                 <div class=\"book-info\">\n                   <h3 class=\"book-title\">${book.title}</h3>\n                   <p class=\"book-author\">${book.author}</p>\n                 </div>\n               </li>`;\n}\n\nfunction booksBlockTemplate(collection) {\n    const bookCards = collection.books.map(book => bookCardTemplate(book, 'best-sellers-list-item')).join('');\n    return `<div class=\"best-sellers-container\">\n             <h2 class=\"category-title\">${collection.list_name}</h2>\n             <ul class=\"best-sellers-list\">${bookCards}</ul>\n             <div class=\"see-more-btn-wrapper\">\n               <button class=\"see-more-btn\" type=\"button\" data-category=\"${collection.list_name}\">See more</button>\n             </div>\n           </div>`\n}\n\nfunction booksList(books) {\n    const bookCards = books.map(book => bookCardTemplate(book, 'category-list-item')).join('');\n    return `<ul class=\"category-list\">${bookCards}</ul>`\n}\n\nfunction addBooksBlocks(collection) {\n  mainWrapper.insertAdjacentHTML('beforeend', booksBlockTemplate(collection))\n}\n\nfunction addBooksList(books) {\n  mainWrapper.insertAdjacentHTML('beforeend', booksList(books));\n}\n\nfunction renderMainBooksHeader() {\n    mainWrapper.insertAdjacentHTML('afterbegin',\n        `<h1 class=\"main-title\">\n            Best Sellers <span class=\"accent-text\">Books</span>\n        </h1>`\n  );\n}\n\nfunction renderCategoryName(booksCollection) {\n  const words = booksCollection[0].list_name.split(' ');\n  const lastWord = words.pop();\n  const categoryName = `${words.join(' ')} <span class=\"accent-text\">${lastWord}</span>`;\n  mainWrapper.insertAdjacentHTML('afterbegin', `<h1 class=\"main-title\">${categoryName}</h1>`);\n}\n\nfunction cleanMainWrapper() {\n  mainWrapper.innerHTML = '';\n}\n\nfunction renderBooksBlocks(collection) {\n  collection.forEach(addBooksBlocks);\n  renderMainBooksHeader();\n}\n\n  function renderBooksList(books) {\n    addBooksList(books);\n    renderCategoryName(books);  \n}\n\nexport { renderAllBooks, showMoreByCategory,  };\n","const goTopBtn = document.querySelector(\".back-top\");\n\nwindow.addEventListener(\"scroll\", trackScroll);\ngoTopBtn.addEventListener(\"click\", goTop);\n\nfunction trackScroll() {\n\n  const scrolled = window.pageYOffset;\n  const coords = document.documentElement.clientHeight;\n\n  if (scrolled > coords) {\n    goTopBtn.classList.add(\"back-top-show\");\n  } else {\n    goTopBtn.classList.remove(\"back-top-show\");\n  }\n}\n\nfunction goTop() {\n\n  if (window.pageYOffset > 0) {\n    window.scrollBy(0, -25);\n    setTimeout(goTop, 0); \n  }\n}"],"names":["inputTheme","spanTheme","body","indexTheme","currentTheme","logo","logo1","showLoader","loader","hideLoader","getBooksByCategory","category","response","axios","iziToast","getBookById","bookId","bookInfo","getAllBooks","category_list","getCategoryList","data","renderCategories","markupCategoriesList","itemCategory","event","ActiveCategory","checkCategory","categories","bookWrapp","modal","modalTitle","modalText","addToShoppingListBtn","modalCloseBtn","addTextModal","shoppingList","shoppingCard","firstCard","descEmpty","openModal","book","amazon","applebooks","closeModal","toggleShoppingList","index","currentBookId","bookLink","savedShoppingList","savedShoppingCard","backDropMenu","burgerBtn","closeIcon","burgerIcon","toggleMenuOpen","mainWrapper","showMoreByCategory","scrollBtn","scrollToTop","trackScroll","offset","coordinates","renderAllBooks","cleanMainWrapper","allBooks","renderBooksBlocks","booksByCategory","renderBooksList","bookCardTemplate","liClass","booksBlockTemplate","collection","bookCards","booksList","books","addBooksBlocks","addBooksList","renderMainBooksHeader","renderCategoryName","booksCollection","words","lastWord","categoryName","goTopBtn","goTop","scrolled","coords"],"mappings":"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"}