{"version":3,"file":"commonHelpers3.js","sources":["../src/images/books-desk@1x.png","../src/images/books-desk@2x.png","../src/images/books-mob@1x.png","../src/images/applebooks.png","../src/js/shoplist.js"],"sourcesContent":["export default \"__VITE_ASSET__f2a4d66a__\"","export default \"__VITE_ASSET__3f0fb6db__\"","export default \"__VITE_ASSET__5ab7f1cd__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOASURBVHgB7VdLaBRBEH3Vm91V/KwK/mIOcQ/GXPwgQQ8qSLz4QUWEXMSLIHjLxd/FY0CCSrxoQJEc1VMgIDkYEURCVEyCEA8aI35WQ0STYEyyO132zOzOdk9mZicQbykYZrrnddXrV101u8CiuUZRL7kjvcWShb0EWiuAlORovG6CwFIiz+BviaT1ks5gCPMhwfdQx0g+UI/bsXA2TLP5RjqPEVQiwe3YyiLZC6JMcQbBXMPmI3F5Im6gs/kBHVE1ZwmlHqt1GWdtMM8K85G4pMroQ2ZsJSpHEDqicCd1kiXVqguQdlLNe+mZfe/C5kLwW6z29CE9rkGCmA4oKWw5wAH30rMfEzYXjhdH9LhGOhTLLAXJXLUCyB4FVS1TAws8PgJ8eaJYCxO3aT9oRRZIpMBTOWD0FfAnh4AMVYeSEExpZh++4TJoRzOQXqn5UPbjNWT3aWDiE7C8BnTwLqhmv4mZGQf3XQMPtqkd6o5puRFXH0hLjbX8U+1x0O6rBgHP1u9Sge8rnHJyrNMg4Fk6A9rXAsqegu5XMItQJcA+eZfVIMqoeg84Uw+sqY/EYcl69yyUTJopN0lYtmcqVzbHKMPV2ypj2Dlvjk92Q4ST8E5vEWxLXZEGVVVCuH5luTFIcDgJVyYydhArQEUQzBREKQFL2M2iiOJ46YhBdA6JSCXsd17gmG05Nglt7OsvPiXILdqS41hKxMSUlCAfIQQowZpsJFHZ4mBYOzts84goURtIPL+DGY8EGWfC7zbgYPoWl2z6N3hs2Cly2rQzGFPIg39+UNhx0Lo6YOmqIlGa06BCSSgV2KBpy/h1ALLrCjj3RjkquJNLVkHsPgfReNHbluy5Ae69Df77y+tGNllx4tb8qoMltL6m1r3tBPo6ysFd18DUOOTTVvWYcKZldwvk85tFCHl3/twPq22vUiRjpI2jzoRSYtILZDuaHNPfwm+yRxGp3Qfuf6Q+3wkEm0rx9GTZJzmbnQklYUnKGRVc8WAqwPtnTuu2K0nTylhq9z+vBTrVgY8+mmVLsOjSP7mxLvvLG/ATEAFj7w7u0eOSb1+Uv7BhSD3U4X8ZYSTV+n0zwpRwsmbJJiVZwW3hC3xJTDDR4bm8AowvbajNz8L+EZnFghkPsqCm9PXcO8Qh4S1r3lhvCdHALKvViUrO52+gXaEq/3kSNMoJfhEUfNH89g83+MD9ZjdiQAAAAABJRU5ErkJggg==\"","import emptyDesk1 from './../images/books-desk@1x.png';\nimport emptyDesk2 from './../images/books-desk@2x.png';\nimport emptyMob1 from './../images/books-mob@1x.png';\nimport amazon from '../images/amazon.png';\nimport applebooks from '../images/applebooks.png';\nimport icon from \"./../img/sprite.svg\"\n\nconst KEY_LOCAL_STORAGE = \"shoppingCard\";// local keys\nconst KEY_LOCAL_STORAGE_ID = \"shoppingList\";\nconst shopEl = document.querySelector(\".js-shopping-list\");\nconst shopContainerEl = document.querySelector('.shopping-list-container');\nconst descEmpty = \"The Florida governor gives his account of his achievements and shares his opinions about the political left. Read by John Pruden and the author. 8 hours, 59 minutes unabridged.\";\nconst readyCard = parseStorage(KEY_LOCAL_STORAGE);\nconst numberCard = parseStorage(KEY_LOCAL_STORAGE_ID);\nif (readyCard[0] !== undefined) {\n  shopContainerEl.innerHTML=\"\";\n  shopEl.innerHTML=\"\";\n  shopEl.insertAdjacentHTML(\"afterbegin\", funCreateCard(readyCard));\n  shopEl.addEventListener(\"click\", deleteCadr);\n} else {\n  funcCreateEmpty();\n}\nfunction deleteCadr(e) {\n  let parent = e.target.closest('.btn-shop');\n  if (parent) {\n  shopEl.innerHTML =\"\";\n  readyCard.splice(parent.id, 1);\n  numberCard.splice(parent.id,1);\n  localStorage.removeItem(KEY_LOCAL_STORAGE);\n  localStorage.removeItem(KEY_LOCAL_STORAGE_ID);\n\n  setStorage(KEY_LOCAL_STORAGE, readyCard);\n  setStorage(KEY_LOCAL_STORAGE_ID,numberCard);\n  if (readyCard[0] !== undefined) {\n    shopEl.insertAdjacentHTML(\n      \"afterbegin\",\n      funCreateCard(parseStorage(KEY_LOCAL_STORAGE))\n    );\n\n  } else {\n    funcCreateEmpty();\n  }\n}\nelse{\n    return;\n}\n}\nfunction funCreateCard(readyCard) {\n  return readyCard\n    .map(({  book_image,title,author,description,amazonLinks, appleLinks }, index) => {\n      if(!description){\n        description=descEmpty;\n      }\n      return `<li class=\"shopping-list-item\">\n      <img class=\"shopping-list-card-img\" src=\"${book_image}\" alt=\"${title}\">\n      <div class=\"shopping-list-card-container\">\n        <h2 class=\"shopping-list-card-title\">${title}</h2>\n        <p class=\"shopping-list-card-text\">Hardcover fiction</p>\n        <p class=\"shopping-list-card-desc\">${description}</p>\n        <div class=\"shopping-list-card-bottom-container\">\n          <p class=\"shopping-list-card-author\">${author}</p>\n          <div class=\"shopping-list-card-container-img\">\n            <a href=\"${amazonLinks}\" class=\"shopping-amazon-link\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n              <img class=\"shopping-list-card-icon-amazon\"srcset=\"${amazon} 1x,\" src=\"${amazon}\" alt=\"Amazon\" loading=\"lazy\">\n            </a>\n            <a href=\"${appleLinks}\" class=\"shopping-book-link\" rel=\"noopener noreferrer nofollow\" target=\"_blank\">\n              <img class=\"shopping-list-card-icon-book\" srcset=\"${applebooks} 1x,\" src=\"${applebooks}\" alt=\"Apple books\" loading=\"lazy\">\n            </a>\n          </div>\n        </div>\n        <div>\n          <button class=\"btn-shop shopping-list-card-container-trash\" id=\"${index}\">\n            <svg class=\"shopping-list-card-icon-trash\" width=\"18px\" height=\"18px\">\n              <use href=\"${icon}#icon-del\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </li>\n  `;\n    })\n    .join(\"\");\n}\nfunction funcCreateEmpty() {\n  shopContainerEl.innerHTML=\"\";\n  shopContainerEl.insertAdjacentHTML(\n    \"afterbegin\",\n    `\n    <p class=\"shopping-list-text\">\n      This page is empty, add some books and proceed to order.\n    </p>\n    <img\n      class=\"shopping-list-image\"\n      srcset=\"\n        ${emptyDesk1} 1x,\n        ${emptyDesk2} 2x\n      \"\n      src=\"${emptyMob1}\"\n      alt=\"books\"\n      width=\"265\"\n      height=\"198\"\n    />\n    `\n  );\n}\nfunction setStorage(key, readyCard) {\n  try {\n    const stringFlag = JSON.stringify(readyCard);\n    localStorage.setItem(key, stringFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}\n\nfunction parseStorage(key) {\n  try {\n    const parseFlag = localStorage.getItem(key);\n    return parseFlag === null ? undefined : JSON.parse(parseFlag);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n}"],"names":["emptyDesk1","emptyDesk2","emptyMob1","applebooks","KEY_LOCAL_STORAGE","KEY_LOCAL_STORAGE_ID","shopEl","shopContainerEl","descEmpty","readyCard","parseStorage","numberCard","funCreateCard","deleteCadr","funcCreateEmpty","parent","setStorage","book_image","title","author","description","amazonLinks","appleLinks","index","amazon","icon","key","stringFlag","error","parseFlag"],"mappings":"gJAAA,MAAeA,EAAA,+CCAAC,EAAA,+CCAAC,EAAA,8CCAAC,EAAA,q1CCOTC,EAAoB,eACpBC,EAAuB,eACvBC,EAAS,SAAS,cAAc,mBAAmB,EACnDC,EAAkB,SAAS,cAAc,0BAA0B,EACnEC,EAAY,mLACZC,EAAYC,EAAaN,CAAiB,EAC1CO,EAAaD,EAAaL,CAAoB,EAChDI,EAAU,CAAC,IAAM,QACnBF,EAAgB,UAAU,GAC1BD,EAAO,UAAU,GACjBA,EAAO,mBAAmB,aAAcM,EAAcH,CAAS,CAAC,EAChEH,EAAO,iBAAiB,QAASO,CAAU,GAE3CC,IAEF,SAASD,EAAW,EAAG,CACrB,IAAIE,EAAS,EAAE,OAAO,QAAQ,WAAW,EACzC,GAAIA,EACJT,EAAO,UAAW,GAClBG,EAAU,OAAOM,EAAO,GAAI,CAAC,EAC7BJ,EAAW,OAAOI,EAAO,GAAG,CAAC,EAC7B,aAAa,WAAWX,CAAiB,EACzC,aAAa,WAAWC,CAAoB,EAE5CW,EAAWZ,EAAmBK,CAAS,EACvCO,EAAWX,EAAqBM,CAAU,EACtCF,EAAU,CAAC,IAAM,OACnBH,EAAO,mBACL,aACAM,EAAcF,EAAaN,CAAiB,CAAC,CACnD,EAGIU,QAIA,OAEJ,CACA,SAASF,EAAcH,EAAW,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAG,WAAAQ,EAAW,MAAAC,EAAM,OAAAC,EAAO,YAAAC,EAAY,YAAAC,EAAa,WAAAC,CAAY,EAAEC,KAClEH,IACFA,EAAYZ,GAEP;AAAA,iDACoCS,CAAU,UAAUC,CAAK;AAAA;AAAA,+CAE3BA,CAAK;AAAA;AAAA,6CAEPE,CAAW;AAAA;AAAA,iDAEPD,CAAM;AAAA;AAAA,uBAEhCE,CAAW;AAAA,mEACiCG,CAAM,cAAcA,CAAM;AAAA;AAAA,uBAEtEF,CAAU;AAAA,kEACiCnB,CAAU,cAAcA,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,4EAKxBoB,CAAK;AAAA;AAAA,2BAEtDE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAO1B,EACA,KAAK,EAAE,CACZ,CACA,SAASX,GAAkB,CACzBP,EAAgB,UAAU,GAC1BA,EAAgB,mBACd,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOMP,CAAU;AAAA,UACVC,CAAU;AAAA;AAAA,aAEPC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMtB,CACA,CACA,SAASc,EAAWU,EAAKjB,EAAW,CAClC,GAAI,CACF,MAAMkB,EAAa,KAAK,UAAUlB,CAAS,EAC3C,aAAa,QAAQiB,EAAKC,CAAU,CACrC,OAAQC,EAAO,CACd,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH,CAEA,SAASlB,EAAagB,EAAK,CACzB,GAAI,CACF,MAAMG,EAAY,aAAa,QAAQH,CAAG,EAC1C,OAAOG,IAAc,KAAO,OAAY,KAAK,MAAMA,CAAS,CAC7D,OAAQD,EAAO,CACd,QAAQ,MAAM,oBAAqBA,EAAM,OAAO,CACjD,CACH"}